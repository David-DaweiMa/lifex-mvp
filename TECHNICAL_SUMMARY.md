# LifeX MVP æŠ€æœ¯æ€»ç»“

**æ—¥æœŸ**: 2025å¹´1æœˆ16æ—¥  
**ç‰ˆæœ¬**: v1.0  
**çŠ¶æ€**: ç§»åŠ¨ç«¯é‡æ„å®Œæˆ

## ğŸ”§ æŠ€æœ¯æ¶æ„æ¦‚è§ˆ

### æ•´ä½“æ¶æ„
```
LifeX MVP (Monorepo)
â”œâ”€â”€ Web Platform (Next.js)
â”œâ”€â”€ Mobile Platform (React Native + Expo)
â”œâ”€â”€ Shared Services (TypeScript)
â””â”€â”€ Backend Services (Supabase)
```

## ğŸ“± ç§»åŠ¨ç«¯é‡æ„æŠ€æœ¯ç»†èŠ‚

### é—®é¢˜è¯Šæ–­
åŸå§‹ç§»åŠ¨ç«¯é¡¹ç›®å­˜åœ¨ä¸¥é‡çš„æŠ€æœ¯å€ºåŠ¡ï¼š

1. **ç‰ˆæœ¬å†²çª**
   - React Native 0.74.5 ä¸ Expo SDK 51 ä¸å…¼å®¹
   - Babelè¿è¡Œæ—¶ä¾èµ–è§£æå¤±è´¥
   - Metro bundleré…ç½®è¿‡æ—¶

2. **æ¶æ„é—®é¢˜**
   - å¤æ‚çš„monorepoä¾èµ–ç»“æ„
   - å…±äº«åŒ…ä¾èµ–é“¾è¿‡é•¿
   - é…ç½®ä¸ä¸€è‡´

3. **å¼€å‘ä½“éªŒ**
   - æ„å»ºå¤±è´¥é¢‘ç¹
   - çƒ­é‡è½½ä¸ç¨³å®š
   - è°ƒè¯•å›°éš¾

### è§£å†³æ–¹æ¡ˆå®æ–½

#### 1. é¡¹ç›®é‡å»º
```bash
# åˆ›å»ºæ–°çš„Expoé¡¹ç›®
npx create-expo-app mobile-new --template blank-typescript

# é…ç½®ç¨³å®šçš„ç‰ˆæœ¬ç»„åˆ
- Expo SDK: 49.0.0
- React Native: 0.72.15
- TypeScript: 5.3.3
```

#### 2. ä¾èµ–ç®¡ç†
```json
{
  "dependencies": {
    "expo": "~49.0.0",
    "react-native": "0.72.15",
    "@expo/metro-runtime": "~2.0.0",
    "@supabase/supabase-js": "^2.57.0",
    "lucide-react-native": "^0.542.0"
  }
}
```

#### 3. é…ç½®ä¼˜åŒ–
```javascript
// babel.config.js - ç®€åŒ–é…ç½®
module.exports = {
  presets: ['module:@react-native/babel-preset'],
};

// metro.config.js - åŸºç¡€é…ç½®
const { getDefaultConfig } = require('@react-native/metro-config');
module.exports = getDefaultConfig(__dirname);
```

## ğŸ¨ è®¾è®¡ç³»ç»Ÿå®ç°

### ä¸»é¢˜æ¶æ„
```typescript
// src/lib/theme.ts
export const darkTheme = {
  background: {
    primary: '#0a0a0a',        // æ·±è‰²ä¸»èƒŒæ™¯
    secondary: '#1A1625',      // æ·±ç´«è‰²æ¬¡è¦èƒŒæ™¯
    card: '#1A1625',           // å¡ç‰‡èƒŒæ™¯
    glass: '#8B5CF620',        // ç»ç’ƒæ•ˆæœ
  },
  text: {
    primary: '#FFFFFF',        // ä¸»æ–‡å­—
    secondary: '#22C55E',      // Kiwiç»¿è‰²
    muted: '#805AD5',          // é™éŸ³æ–‡å­—
  },
  neon: {
    purple: '#A855F7',         // å“ç‰Œç´«è‰²
    green: '#10B981',          // æˆåŠŸè‰²
    blue: '#3B82F6',           // ä¿¡æ¯è‰²
  }
}
```

### ç»„ä»¶è®¾è®¡åŸåˆ™
1. **ä¸€è‡´æ€§**: ä¸Webç‰ˆæœ¬ä¿æŒè§†è§‰ä¸€è‡´
2. **å¯è®¿é—®æ€§**: æ”¯æŒæ·±è‰²æ¨¡å¼å’Œæ— éšœç¢è®¿é—®
3. **å“åº”å¼**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸
4. **æ€§èƒ½**: ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½

## ğŸ—ï¸ é¡¹ç›®ç»“æ„ä¼˜åŒ–

### æ–°é¡¹ç›®ç»“æ„
```
packages/mobile-new/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/           # UIç»„ä»¶
â”‚   â”‚   â””â”€â”€ MainScreen.tsx   # ä¸»å±å¹•ç»„ä»¶
â”‚   â””â”€â”€ lib/
â”‚       â””â”€â”€ theme.ts         # ä¸»é¢˜é…ç½®
â”œâ”€â”€ assets/                  # é™æ€èµ„æº
â”œâ”€â”€ App.tsx                  # åº”ç”¨å…¥å£
â”œâ”€â”€ app.json                 # Expoé…ç½®
â”œâ”€â”€ package.json             # ä¾èµ–é…ç½®
â””â”€â”€ tsconfig.json           # TypeScripté…ç½®
```

### é…ç½®ç®¡ç†
```json
// æ ¹ç›®å½• package.json
{
  "workspaces": [
    "packages/mobile-new",    // æ–°ç§»åŠ¨ç«¯é¡¹ç›®
    "packages/web",           // Webé¡¹ç›®
    "packages/shared"         // å…±äº«åŒ…
  ],
  "scripts": {
    "expo": "cd packages/mobile-new && npx expo start",
    "dev:mobile": "cd packages/mobile-new && npx expo start"
  }
}
```

## ğŸš€ å¼€å‘å·¥ä½œæµ

### å¯åŠ¨æµç¨‹
```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. å¯åŠ¨ç§»åŠ¨ç«¯
npm run expo

# 3. å¯åŠ¨Webç«¯
npm run dev

# 4. æ„å»ºé¡¹ç›®
npm run build
```

### æµ‹è¯•æµç¨‹
1. **Androidæ¨¡æ‹Ÿå™¨æµ‹è¯•**: ä½¿ç”¨Android Studio AVD
2. **çƒ­é‡è½½æµ‹è¯•**: éªŒè¯ä»£ç æ›´æ”¹å®æ—¶ç”Ÿæ•ˆ
3. **UIæµ‹è¯•**: éªŒè¯è®¾è®¡ä¸€è‡´æ€§
4. **åŠŸèƒ½æµ‹è¯•**: éªŒè¯æ ¸å¿ƒåŠŸèƒ½

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### æ„å»ºä¼˜åŒ–
- **Metro bundler**: ä½¿ç”¨é»˜è®¤é…ç½®ï¼Œé¿å…å¤æ‚è‡ªå®šä¹‰
- **Babelé…ç½®**: ç®€åŒ–preseté…ç½®ï¼Œå‡å°‘è½¬æ¢å¼€é”€
- **ä¾èµ–ç®¡ç†**: ä½¿ç”¨ç¨³å®šç‰ˆæœ¬ï¼Œé¿å…ç‰ˆæœ¬å†²çª

### è¿è¡Œæ—¶ä¼˜åŒ–
- **ç»„ä»¶è®¾è®¡**: ä½¿ç”¨å‡½æ•°ç»„ä»¶å’ŒHooks
- **çŠ¶æ€ç®¡ç†**: æœ¬åœ°çŠ¶æ€ç®¡ç†ï¼Œé¿å…è¿‡åº¦å¤æ‚åŒ–
- **æ¸²æŸ“ä¼˜åŒ–**: é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“

## ğŸ” é—®é¢˜è§£å†³è®°å½•

### å·²è§£å†³é—®é¢˜
1. **Babelè¿è¡Œæ—¶é”™è¯¯**
   - é—®é¢˜: `@babel/runtime/helpers/interopRequireDefault` æ‰¾ä¸åˆ°
   - è§£å†³: ä½¿ç”¨ç¨³å®šçš„React Nativeç‰ˆæœ¬ï¼Œç®€åŒ–Babelé…ç½®

2. **Metro bundleré…ç½®**
   - é—®é¢˜: å¤æ‚çš„monorepoé…ç½®å¯¼è‡´æ„å»ºå¤±è´¥
   - è§£å†³: ä½¿ç”¨ç‹¬ç«‹çš„é¡¹ç›®é…ç½®ï¼Œé¿å…è·¨åŒ…ä¾èµ–

3. **ç‰ˆæœ¬å…¼å®¹æ€§**
   - é—®é¢˜: React Native 0.74.5 ä¸ Expo SDK 51 ä¸å…¼å®¹
   - è§£å†³: é™çº§åˆ°ç¨³å®šçš„ç‰ˆæœ¬ç»„åˆ

4. **UIè®¾è®¡ä¸ä¸€è‡´**
   - é—®é¢˜: ç§»åŠ¨ç«¯ä¸Webç«¯è®¾è®¡é£æ ¼ä¸ç»Ÿä¸€
   - è§£å†³: å®ç°ç»Ÿä¸€çš„è®¾è®¡ç³»ç»Ÿå’Œä¸»é¢˜

### å¾…è§£å†³é—®é¢˜
1. **Windowsæ–‡ä»¶è·¯å¾„è¿‡é•¿**
   - é—®é¢˜: æ— æ³•åˆ é™¤æ—§çš„mobileæ–‡ä»¶å¤¹
   - å½±å“: é¡¹ç›®ç»“æ„ä¸å¤Ÿæ¸…æ´
   - è®¡åˆ’: ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·æˆ–é‡å¯ååˆ é™¤

2. **ä¾èµ–ç‰ˆæœ¬è­¦å‘Š**
   - é—®é¢˜: expo-cameraå’Œreact-native-svgç‰ˆæœ¬è­¦å‘Š
   - å½±å“: å¼€å‘ä½“éªŒ
   - è®¡åˆ’: æ›´æ–°åˆ°æ¨èç‰ˆæœ¬

## ğŸ“ˆ æŠ€æœ¯æŒ‡æ ‡

### ä»£ç è´¨é‡
- **TypeScriptè¦†ç›–ç‡**: 100%
- **ESLinté…ç½®**: å·²é…ç½®
- **ä»£ç æ ¼å¼åŒ–**: Prettierå·²é…ç½®

### æ€§èƒ½æŒ‡æ ‡
- **å¯åŠ¨æ—¶é—´**: < 3ç§’ (Androidæ¨¡æ‹Ÿå™¨)
- **çƒ­é‡è½½æ—¶é—´**: < 1ç§’
- **æ„å»ºæ—¶é—´**: < 30ç§’

### å¼€å‘ä½“éªŒ
- **å¼€å‘ç¯å¢ƒ**: ä¸€é”®å¯åŠ¨
- **è°ƒè¯•æ”¯æŒ**: å®Œæ•´çš„è°ƒè¯•å·¥å…·
- **é”™è¯¯å¤„ç†**: æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯

## ğŸ”® æŠ€æœ¯å±•æœ›

### çŸ­æœŸä¼˜åŒ–
1. **æ€§èƒ½ç›‘æ§**: é›†æˆæ€§èƒ½ç›‘æ§å·¥å…·
2. **é”™è¯¯è¿½è¸ª**: æ·»åŠ é”™è¯¯è¿½è¸ªç³»ç»Ÿ
3. **è‡ªåŠ¨åŒ–æµ‹è¯•**: å®ç°å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

### é•¿æœŸè§„åˆ’
1. **å¾®æœåŠ¡æ¶æ„**: è€ƒè™‘åç«¯å¾®æœåŠ¡åŒ–
2. **å®¹å™¨åŒ–**: ä½¿ç”¨Dockerè¿›è¡Œéƒ¨ç½²
3. **CI/CD**: å®ç°æŒç»­é›†æˆå’Œéƒ¨ç½²

## ğŸ“š æŠ€æœ¯æ–‡æ¡£

### å¼€å‘æ–‡æ¡£
- `DEVELOPMENT_SETUP.md` - å¼€å‘ç¯å¢ƒè®¾ç½®
- `MOBILE_TESTING_ISSUES.md` - ç§»åŠ¨ç«¯é—®é¢˜è®°å½•
- `VERSION_DOWNGRADE_PLAN.md` - ç‰ˆæœ¬é™çº§è®¡åˆ’

### APIæ–‡æ¡£
- Supabase APIæ–‡æ¡£
- OpenAI APIé›†æˆæ–‡æ¡£
- ç§»åŠ¨ç«¯APIæ¥å£æ–‡æ¡£

---

**æŠ€æœ¯è´Ÿè´£äºº**: David Ma  
**æœ€åæ›´æ–°**: 2025å¹´1æœˆ16æ—¥  
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
