# 移动端功能集成测试指南

## 测试前准备

### 1. 环境配置检查
- [ ] 创建 `.env` 文件并配置Supabase变量
- [ ] 确保web端API服务器运行在 `http://localhost:3000`
- [ ] 启动移动端开发服务器

### 2. 依赖检查
- [ ] 所有必要的包已安装
- [ ] 没有TypeScript错误
- [ ] 没有linting错误

## 功能测试清单

### 🔐 认证系统测试

#### 用户注册
- [ ] 点击用户图标进入认证页面
- [ ] 切换到注册模式
- [ ] 填写邮箱、密码、姓名
- [ ] 点击"Create Account"
- [ ] 验证注册成功并自动登录

#### 用户登录
- [ ] 切换到登录模式
- [ ] 输入正确的邮箱和密码
- [ ] 点击"Sign In"
- [ ] 验证登录成功

#### 用户登出
- [ ] 在Profile页面点击"Log Out"
- [ ] 验证登出成功，返回认证页面

### 🤖 AI聊天测试

#### 基本对话
- [ ] 在Chat页面输入消息
- [ ] 点击发送按钮
- [ ] 验证AI回复正常显示
- [ ] 检查消息时间戳

#### 推荐功能
- [ ] 询问关于商家的推荐
- [ ] 验证AI返回推荐列表
- [ ] 检查推荐内容格式

#### 后续问题
- [ ] 验证AI回复包含后续问题
- [ ] 点击后续问题按钮
- [ ] 验证问题自动填入输入框

### 📍 位置服务测试

#### 权限请求
- [ ] 首次访问Discover页面
- [ ] 验证位置权限请求弹窗
- [ ] 允许位置权限

#### 当前位置
- [ ] 验证获取当前位置成功
- [ ] 检查位置数据格式
- [ ] 验证位置缓存功能

#### 附近商家
- [ ] 在Discover页面搜索附近商家
- [ ] 验证返回的商家列表
- [ ] 检查距离计算

### 🏪 商家数据测试

#### 商家列表
- [ ] 在Discover页面浏览商家列表
- [ ] 验证商家信息显示
- [ ] 检查图片加载

#### 搜索功能
- [ ] 在搜索框输入关键词
- [ ] 验证搜索结果
- [ ] 检查搜索性能

#### 分类筛选
- [ ] 点击不同分类标签
- [ ] 验证筛选结果
- [ ] 检查分类切换

#### 商家详情
- [ ] 点击商家卡片
- [ ] 验证详情页面加载
- [ ] 检查详细信息显示

### 📱 界面和导航测试

#### 底部导航
- [ ] 点击各个导航标签
- [ ] 验证页面切换
- [ ] 检查选中状态

#### 头部导航
- [ ] 点击用户图标
- [ ] 验证认证状态显示
- [ ] 检查返回功能

#### 响应式设计
- [ ] 在不同屏幕尺寸测试
- [ ] 验证布局适配
- [ ] 检查滚动性能

## 错误处理测试

### 网络错误
- [ ] 断开网络连接
- [ ] 尝试发送消息
- [ ] 验证错误提示

### 权限拒绝
- [ ] 拒绝位置权限
- [ ] 验证降级处理
- [ ] 检查用户提示

### API错误
- [ ] 使用错误的API URL
- [ ] 验证错误处理
- [ ] 检查用户反馈

## 性能测试

### 加载性能
- [ ] 应用启动时间
- [ ] 页面切换速度
- [ ] 数据加载时间

### 内存使用
- [ ] 长时间使用内存占用
- [ ] 页面切换内存释放
- [ ] 缓存管理

### 电池消耗
- [ ] 位置服务电池影响
- [ ] 网络请求优化
- [ ] 后台活动控制

## 测试结果记录

### 测试环境
- 设备型号: ___________
- 操作系统: ___________
- 应用版本: ___________
- 测试时间: ___________

### 测试结果
- 通过测试: ___/___
- 失败测试: ___/___
- 主要问题: ___________

### 改进建议
1. ___________
2. ___________
3. ___________

## 下一步计划

- [ ] 修复发现的问题
- [ ] 优化性能瓶颈
- [ ] 添加缺失功能
- [ ] 完善错误处理
- [ ] 准备生产部署
